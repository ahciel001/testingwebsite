<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Link to CSS (Adjust ../ if you are in a deeper folder) -->
    <link rel="stylesheet" href="../../style.css"> 
</head>

<body>
  <!-- Background Elements -->
  <div class="galaxy"></div>
  <canvas id="stars"></canvas>

  <!-- TOP NAVIGATION HEADER -->
  <header class="top-nav">
      <!-- Logo -->
      <a href="../../index.html" class="nav-logo">
          The Starry Shore
      </a>

      <!-- Top Links -->
      <nav class="nav-links">
          <a href="../../index.html">Home</a>
          <a href="../../2014-server/shopping.html">2014 5e</a>
          <a href="#">2024 5.5e</a>
      </nav>

      <!-- Search Bar -->
      <div class="search-container">
          <input type="text" class="search-input" placeholder="Search...">
      </div>
  </header>

  <!-- MAIN LAYOUT -->
  <div class="layout-container">
      
      <!-- SIDEBAR NAV -->
      <aside class="sidebar">
          <h2>Navigation</h2>
          <ul><li><strong>- 2014 5e Server</strong><ul><li><strong>- 2014 Server Systems</strong><ul><li><a href="../../- 2014 5e Server/- 2014 Server Systems/1. Shopping Guide.html">1. Shopping Guide</a></li><li><a href="../../- 2014 5e Server/- 2014 Server Systems/2. Crafting.html">2. Crafting</a></li><li><a href="../../- 2014 5e Server/- 2014 Server Systems/3. Item Patch Notes.html">3. Item Patch Notes</a></li><li><a href="../../- 2014 5e Server/- 2014 Server Systems/4. DownTime Points Guide (DTP).html">4. DownTime Points Guide (DTP)</a></li><li><a href="../../- 2014 5e Server/- 2014 Server Systems/5. Prestige Rules.html">5. Prestige Rules</a></li></ul></li><li><a href="../../- 2014 5e Server/1. About the Server.html">1. About the Server</a></li><li><a href="../../- 2014 5e Server/2. Character Creation Steps.html">2. Character Creation Steps</a></li><li><a href="../../- 2014 5e Server/3. How to Play.html">3. How to Play</a></li><li><a href="../../- 2014 5e Server/4. Loot and Items.html">4. Loot and Items</a></li><li><a href="../../- 2014 5e Server/5. Misc Rules.html">5. Misc Rules</a></li><li><a href="../../- 2014 5e Server/6. DM Guide.html">6. DM Guide</a></li><li><a href="../../- 2014 5e Server/7. DM Tools.html">7. DM Tools</a></li><li><strong>Events</strong><ul><li><a href="../../- 2014 5e Server/Events/3. Halloween feature.html">3. Halloween feature</a></li></ul></li></ul></li><li><strong>- 2024 5.5e Server</strong><ul><li><strong>- 2024 Server Systems</strong><ul><li><a href="2. Crafting.html">2. Crafting</a></li></ul></li><li><a href="../1. About the Server.html">1. About the Server</a></li><li><a href="../2. Character Creation Steps.html">2. Character Creation Steps</a></li><li><a href="../3. Creation Log Maker.html">3. Creation Log Maker</a></li><li><strong>Events</strong><ul><li><a href="../Events/3. Halloween feature.html">3. Halloween feature</a></li></ul></li></ul></li><li><a href="../../index.html">index</a></li></ul>
      </aside>

      <!-- CONTENT AREA -->
      <main class="content">
          <h1>Crafting</h1>
<h2>ðŸŒŽ The Starry Shore 2024 Crafting System ðŸŒŽ</h2>
<h3>Crafting DCs and Costs</h3>
<p>The difficulty class (DC) of a crafting check is determined by the itemâ€™s price, more powerful items are harder to craft. Crafting an item requires gold and downtime points (DTP), which represent material costs and time spent crafting.</p>
<ul>
<li><strong>Gold Cost:</strong> Half the gold cost of the original item</li>
<li><strong>Downtime Point (DTP) Cost:</strong> Item cost Ã· 2 Ã· 25 (1 DTP = 25 gp)</li>
<li><strong>Crafting DC:</strong> 10 + (item cost Ã· 450), rounded down</li>
</ul>
<p>You can use the following tool to see all of the above once you put the item cost and click the "Calculate Crafting Costs &amp; DC" button</p>
<style>
  /* --- WRAPPER FOR THE WHOLE CARD --- */
  .crafting-card {
    display: flex;
    max-width: 800px;
    background: #1e293b; /* Dark Slate Background */
    border: 2px solid #b45309; /* Bronze/Orange Border */
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin-bottom: 20px;
  }

  /* --- LEFT SIDE: THE CALCULATOR UI --- */
  .crafting-ui-side {
    flex: 1;
    padding: 30px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    color: #e2e8f0;
  }

  /* --- RIGHT SIDE: THE IMAGE --- */
  .crafting-image-side {
    flex: 1;
    min-height: 250px;
    background-image: url('/assets/img/crafting.jpg');
    background-size: cover;
    background-position: center;
    position: relative;
    border-left: 2px solid #b45309; 
  }

  /* Dark overlay for the image */
  .crafting-image-side::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.4));
    pointer-events: none;
  }

  /* Caption styling */
  .image-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background: rgba(0, 0, 0, 0.8);
    color: #aaa;
    padding: 8px 10px;
    text-align: center;
    font-size: 0.85em;
    font-style: italic;
    box-sizing: border-box;
    z-index: 2;
  }

  .crafting-title {
    font-size: 1.5em;
    color: #f59e0b; /* Gold */
    margin-bottom: 20px;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 1px solid #475569;
    padding-bottom: 10px;
  }

  .craft-input-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
    color: #94a3b8;
  }

  .craft-input-group input {
    width: 100%;
    padding: 12px;
    background: #0f172a;
    border: 1px solid #475569;
    color: #fff;
    border-radius: 6px;
    font-size: 16px;
    box-sizing: border-box; 
  }

  .craft-input-group input:focus {
    outline: none;
    border-color: #f59e0b;
    box-shadow: 0 0 8px rgba(245, 158, 11, 0.3);
  }

  .craft-btn {
    width: 100%;
    padding: 12px;
    margin-top: 20px;
    font-size: 16px;
    background: linear-gradient(145deg, #d97706, #b45309);
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    transition: transform 0.1s, box-shadow 0.2s;
  }

  .craft-btn:hover {
    background: linear-gradient(145deg, #f59e0b, #d97706);
    box-shadow: 0 0 15px rgba(245, 158, 11, 0.4);
  }

  .craft-btn:active {
    transform: scale(0.98);
  }

  /* --- SECONDARY BUTTONS (Copy/Gen) --- */
  .btn-row {
    display: flex;
    gap: 10px;
    margin-top: 20px;
  }

  .btn-blue {
    background: linear-gradient(145deg, #3b82f6, #1d4ed8);
  }
  .btn-blue:hover {
    background: linear-gradient(145deg, #60a5fa, #2563eb);
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
  }

  .btn-green {
    background: linear-gradient(145deg, #22c55e, #15803d);
  }
  .btn-green:hover {
    background: linear-gradient(145deg, #4ade80, #16a34a);
    box-shadow: 0 0 15px rgba(34, 197, 94, 0.4);
  }

  /* --- PERMANENT RESULTS BOX --- */
  .craft-results {
    margin-top: 20px;
    background: rgba(0, 0, 0, 0.3);
    padding: 15px;
    border-radius: 6px;
    border-left: 4px solid #475569;
    transition: border-color 0.3s ease;
  }

  .result-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    font-size: 1em;
  }

  .val-highlight {
    color: #94a3b8;
    font-weight: bold;
    transition: color 0.3s ease;
  }

  .error-msg {
    color: #ef4444;
    font-size: 0.9em;
    margin-bottom: 10px;
    display: none;
    font-weight: bold;
  }

  /* --- OUTPUT TEXTAREA --- */
  .log-output {
    width: 100%;
    height: 140px;
    margin-top: 20px;
    background: #0f172a;
    border: 1px solid #475569;
    color: #cbd5e1;
    padding: 10px;
    border-radius: 6px;
    font-family: monospace;
    font-size: 0.9em;
    box-sizing: border-box;
  }
  .log-output:focus {
    outline: none;
    border-color: #f59e0b;
  }

  /* --- LOGGING BOX STYLES --- */
  .log-card {
    max-width: 800px;
    background: #1e293b;
    border: 2px solid #475569;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    font-family: 'Segoe UI', sans-serif;
    color: #e2e8f0;
    margin-bottom: 20px;
  }

  /* --- NEW GRID LAYOUT FOR LOG INPUTS --- */
  .log-input-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Two equal columns */
    gap: 15px;
    margin-bottom: 15px;
  }

  /* --- MOBILE RESPONSIVE --- */
  @media (max-width: 650px) {
    .crafting-card {
      flex-direction: column-reverse; 
    }
    .crafting-image-side {
      min-height: 200px;
      border-left: none;
      border-bottom: 2px solid #b45309;
    }
    .btn-row {
      flex-direction: column;
    }
    .log-input-grid {
      grid-template-columns: 1fr; /* Stack inputs on mobile */
    }
  }
</style>

<!-- ========================================== -->
<!-- 1. CALCULATOR CARD (Original)              -->
<!-- ========================================== -->
<div class="crafting-card">

  <!-- LEFT UI -->
  <div class="crafting-ui-side">
    <div class="crafting-title">Items Crafting Costs Calculator</div>

    <div class="craft-input-group">
      <label for="itemCost">Base Item Cost (GP):</label>
      <input type="number" id="itemCost" min="0" placeholder="e.g. 500">
    </div>

    <button class="craft-btn" onclick="calculateCrafting()">Calculate Crafting Costs & DC</button>

    <!-- RESULTS BOX -->
    <div class="craft-results" id="resultsBox">
      <div class="error-msg" id="errorMsg">Invalid item cost entered.</div>

      <div class="result-row">
        <span>Gold Cost:</span> 
        <span><span id="val-gold" class="val-highlight">?</span> GP</span>
      </div>

      <div class="result-row">
        <span>DTP Cost:</span> 
        <span><span id="val-dtp" class="val-highlight">?</span> DTP</span>
      </div>

      <div class="result-row">
        <span>Crafting DC:</span> 
        <span id="val-dc" class="val-highlight" style="color: #475569;">?</span>
      </div>
    </div>

  </div>

  <!-- RIGHT IMAGE -->
  <div class="crafting-image-side">
    <div class="image-caption"><strong>Varenn</strong>, Played by a Starry Shorian</div>
  </div>
</div>

<!-- ========================================== -->
<!-- 2. DOWNTIME LOG CARD (Grid Layout)         -->
<!-- ========================================== -->
<div class="log-card">
  <div class="crafting-title" style="border-bottom-color: #475569; font-size: 1.2em;">
    Downtime Log Generator
  </div>

  <div class="log-input-grid">
    <!-- Row 1 Left -->
    <div class="craft-input-group">
      <label>Character Name:</label>
      <input type="text" id="charName" placeholder="Name">
    </div>

    <!-- Row 1 Right -->
    <div class="craft-input-group">
      <label>Item Name:</label>
      <input type="text" id="itemName" placeholder="What are you crafting?">
    </div>

    <!-- Row 2 Left -->
    <div class="craft-input-group">
      <label>Crafting Roll:</label>
      <input type="text" id="craftRoll" placeholder="e.g. 18">
    </div>

    <!-- Row 2 Right (NEW FIELD) -->
    <div class="craft-input-group">
      <label>Result:</label>
      <input type="text" id="craftResult" placeholder="Success / Failure">
    </div>
  </div>

  <div class="btn-row">
    <button class="craft-btn btn-blue" onclick="generateLog()" style="margin-top:0;">Generate Log</button>
    <button class="craft-btn btn-green" id="copyBtn" onclick="copyLog()" style="margin-top:0;">Copy</button>
  </div>

  <textarea id="logOutput" class="log-output" placeholder="Log will appear here..."></textarea>
</div>

<!-- DIVIDER -->
<div style="
  height: 10px;
  background:
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) top,
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) bottom;
  background-repeat: no-repeat;
  background-size: 100% 4px, 100% 4px;
  background-position: top center, bottom center;
  border: none;
  border-radius: 1px;">
</div>

<script>
// --- Global variables to store the calculation results ---
let savedGold = 0;
let savedDtp = 0;
let savedDc = 0;
let hasCalculated = false;

function calculateCrafting() {
  const itemCost = Number(document.getElementById('itemCost').value);
  const resultsBox = document.getElementById('resultsBox');
  const errorMsg = document.getElementById('errorMsg');

  // Element spans
  const elGold = document.getElementById('val-gold');
  const elDtp = document.getElementById('val-dtp');
  const elDc = document.getElementById('val-dc');

  // Logic: Check for valid input
  if (!itemCost || itemCost <= 0) {
    // Show error, reset values to ?
    errorMsg.style.display = 'block';
    resultsBox.style.borderLeftColor = '#ef4444'; // Red border

    elGold.innerText = '?';
    elDtp.innerText = '?';
    elDc.innerText = '?';

    // Dim the text again
    elGold.style.color = '#94a3b8';
    elDtp.style.color = '#94a3b8';
    elDc.style.color = '#475569';

    hasCalculated = false;
    return;
  }

  // Hide error
  errorMsg.style.display = 'none';

  // Calculations
  const goldCost = Math.floor(itemCost / 2);
  let dtpCost = Math.floor(goldCost / 25);
  if (dtpCost < 1) { dtpCost = 1; }
  const dc = Math.floor(10 + (itemCost / 450));

  // --- SAVE VALUES FOR LOG GENERATOR ---
  savedGold = goldCost;
  savedDtp = dtpCost;
  savedDc = dc;
  hasCalculated = true;

  // Update DOM
  resultsBox.style.borderLeftColor = '#f59e0b'; // Gold border

  elGold.innerText = goldCost;
  elDtp.innerText = dtpCost;
  elDc.innerText = dc;

  // Highlight colors to show active data
  elGold.style.color = '#fff';
  elDtp.style.color = '#fff';
  elDc.style.color = '#38bdf8'; // Light blue for DC
}

function generateLog() {
  const charName = document.getElementById('charName').value || "(Character Name)";
  const itemName = document.getElementById('itemName').value || "(Item Name)";
  const craftRoll = document.getElementById('craftRoll').value || "(Roll)";
  const craftResult = document.getElementById('craftResult').value || "(Result)";

  // Check if calc has run, otherwise use placeholders
  let costString = "Run calculator above first";
  let dcString = "Run calculator above first";

  if (hasCalculated) {
    costString = `${savedGold} gp and ${savedDtp} DTP`;
    dcString = `${savedDc}`;
  }

  const markdown = `**Character Name:** ${charName}
**Downtime Activity:** Crafting ${itemName}
**Cost:** ${costString}
**DC:** ${dcString}
**Roll:** ${craftRoll}
**Result:** ${craftResult}`;

  document.getElementById('logOutput').value = markdown;
}

function copyLog() {
  const text = document.getElementById('logOutput').value;
  const btn = document.getElementById('copyBtn');

  if (!text) return;

  navigator.clipboard.writeText(text).then(() => {
    btn.textContent = "Copied!";
    setTimeout(() => { btn.textContent = "Copy"; }, 1500);
  }).catch(err => {
    console.error('Failed to copy text: ', err);
  });
}
</script>
<h3>Crafting Restrictions</h3>
<p>There are some restrictions on what items can be crafted and how they can be crafted. These are:</p>
<ol>
<li>Artifacts cannot be crafted.</li>
<li>Session-required items can only be crafted in a live session.</li>
<li>Any buffs from items do not apply to crafting rolls.</li>
<li>Outside of live sessions, only passive buffs from race/class/background features are allowed.</li>
<li>
<p>In live sessions, only the following buffs are allowed (where applicable):</p>
<ul>
<li>Help action from another player (they must also have an applicable tool proficiency)</li>
</ul>
</li>
</ol>
<div style="
  height: 10px;
  background:
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) top,
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) bottom;
  background-repeat: no-repeat;
  background-size: 100% 4px, 100% 4px;
  background-position: top center, bottom center;
  border: none;
  border-radius: 1px;">
</div>
<h3>Tool Proficiencies Needed</h3>
<p>To craft an item, a character must have proficiency with the appropriate tool for the item type. The tool proficiency determines what kind of check is made to craft the item.
<em>P.S. In sessions, DMs have freedom to decide what stat is used</em></p>
<p>| Item Type       | Tool Proficiencies                                | Applicable Ability Scores     |
| --------------- | ------------------------------------------------- | ----------------------------- |
| Armor           | Cobbler's, Leatherworker's, Smith's, Tinker's, Weaver's | STR / DEX                     |
| Adventure Gear  | Carpenter's, Leatherworker's, Smith's, Tinker's       | INT / WIS                     |
| Ammunition      | Smith's, Tinker's, Woodcarver's                       | DEX / WIS                     |
| Potion / Poison | Alchemist's, Brewer's, Herbalist's, Poisoner's        | CON / WIS                     |
| Ring            | Glassblower's, Jeweler's, Tinker's                    | DEX / CHA                     |
| Scroll          | Calligrapher's, Forgery, Arcana Check                 | DEX / INT                     |
| Shield          | Carpenter's, Smith's, Woodcarver's                    | STR / CON                     |
| Wand / Rod      | Tinker's, Woodcarver's, Arcana Check                  | INT / WIS / CHA               |
| Weapon          | Smith's, Tinkerâ€™s, Woodcarver's                       | STR / DEX / CON               |
| Wondrous Item   | Any applicable tool, Arcana Check                     | INT / CHA                     |</p>
<div style="
  height: 10px;
  background:
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) top,
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) bottom;
  background-repeat: no-repeat;
  background-size: 100% 4px, 100% 4px;
  background-position: top center, bottom center;
  border: none;
  border-radius: 1px;">
</div>
<h3>Crafting Outcomes</h3>
<p>On a successful check, the item is crafted and the character spends the gold and DTP required for the item.</p>
<p>On a failed check, the GP and DTP costs are spent and the item is not crafted, however the character can attempt another check for an additional 1/4th the original GP and DTP cost.</p>
<p>Each subsequent attempt to craft the item reduces the checkâ€™s DC by <strong>5</strong>, to a minimum DC of <strong>5</strong>.</p>
<div style="
  height: 10px;
  background:
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) top,
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) bottom;
  background-repeat: no-repeat;
  background-size: 100% 4px, 100% 4px;
  background-position: top center, bottom center;
  border: none;
  border-radius: 1px;">
</div>
<h3>How to use tools</h3>
<p>To learn a tool proficiency, use the command: <strong><code>!tool pro &lt;tool_name&gt;</code></strong>. </p>
<p>For expertise, use <code>exp</code> instead of <code>prof</code>.</p>
<p>Example: <strong><code>!tool pro alchemist</code></strong></p>
<p>To make a check with the tool, use the command: <strong><code>!tool &lt;tool_name&gt; &lt;stat&gt;</code></strong></p>
<p>Example: <strong><code>!tool alchemist wis</code></strong></p>
<div style="
  height: 10px;
  background:
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) top,
    linear-gradient(to right,
      #60a5fa 0%,
      #1e3a8a 20%,
      #60a5fa 40%,
      #1e3a8a 60%,
      #60a5fa 80%,
      #1e3a8a 100%
    ) bottom;
  background-repeat: no-repeat;
  background-size: 100% 4px, 100% 4px;
  background-position: top center, bottom center;
  border: none;
  border-radius: 1px;">
</div>
      </main>
  </div>

  <!-- Link to JS -->
  <script src="../../script.js"></script>
</body>
</html>
